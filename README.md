# 实验室数据中台 - 项目介绍

一个基于 Spring Cloud 微服务架构的实验室数据管理与监控平台，提供实验室环境数据采集、实时监控、告警管理和数据分析等功能。

## 项目概述

实验室数据中台旨在解决实验室环境数据管理不规范、监控不及时、数据分析困难等问题。通过统一的数据采集、存储和分析平台，为实验室提供全方位的环境监控和数据分析服务。

## 系统架构

本系统采用微服务架构，主要包含以下服务模块：

### 服务架构图

```
┌─────────────────────────────────────────────────────────────┐
│                        前端应用                                │
└────────────────────────┬──────────────────────────────────────┘
                         │
┌────────────────────────▼──────────────────────────────────────┐
│                    Gateway Service                            │
│                  (网关服务 - 8080)                              │
│              - 路由转发                                        │
│              - 身份认证                                        │
│              - 权限校验                                        │
└────────────────────────┬──────────────────────────────────────┘
                         │
         ┌───────────────┼───────────────┐
         │               │               │
┌────────▼────────┐ ┌─────▼─────┐ ┌──────▼──────┐
│  Auth Service   │ │ Monitor   │ │  System     │
│  (认证服务)      │ │ Service   │ │  Service    │
│    - 用户管理    │ │(监控服务)  │ │ (系统服务)   │
│    - 登录认证    │ │ - 数据采集  │ │  - 实验室   │
│    - JWT鉴权    │ │ - 实时监控  │ │    信息管理  │
│                 │ │ - 告警管理  │ │             │
│                 │ │ - 统计分析  │ │             │
└─────────────────┘ └───────────┘ └─────────────┘
         │               │               │
         └───────────────┼───────────────┘
                         │
         ┌───────────────▼───────────────┐
         │      Common Module           │
         │       (公共模块)             │
         │    - 通用工具类              │
         │    - 实体类定义              │
         │    - Redis配置              │
         └──────────────────────────────┘
                         │
         ┌───────────────▼───────────────┐
         │       基础设施                │
         │  - MySQL 8.0                 │
         │  - Redis                     │
         │  - Kafka                     │
         │  - WebSocket                 │
         └──────────────────────────────┘
```

## 核心功能

### 1. 认证服务 (Auth Service)
- **用户管理**: 支持用户注册、信息修改、权限管理
- **登录认证**: 基于JWT的无状态认证机制
- **权限控制**: 细粒度的角色权限管理

### 2. 网关服务 (Gateway Service)
- **统一入口**: 所有请求的统一接入点
- **路由转发**: 智能路由到各个微服务
- **安全过滤**: 统一的身份认证和权限校验
- **限流熔断**: 保护后端服务稳定性

### 3. 监控服务 (Monitor Service)
- **环境数据采集**
  - 温度、湿度、光照等环境参数实时采集
  - 支持多种数据接入方式（Kafka消息队列）
  - 数据验证和清洗处理

- **实时监控**
  - WebSocket实时数据推送
  - 多维度数据可视化展示
  - 自定义监控面板

- **告警管理**
  - 多级告警机制（一般、重要、紧急）
  - 灵活的告警规则配置
  - 告警消息推送（邮件、短信等）

- **统计分析**
  - 日/周/月环境数据统计
  - 趋势分析和预测
  - 异常数据检测
  - 报表导出功能

### 4. 系统服务 (System Service)
- **实验室管理**: 实验室信息录入、修改、查询
- **设备管理**: 监控设备配置和维护
- **用户权限**: 服务级别的权限管理

## 技术栈

### 后端技术
- **框架**: Spring Boot 2.7.17
- **微服务**: Spring Cloud Gateway
- **数据库**: MySQL 8.0 + MyBatis Plus
- **缓存**: Redis (数据缓存、Session共享)
- **消息队列**: Apache Kafka (数据传输、异步处理)
- **实时通信**: WebSocket (数据实时推送)
- **认证**: JWT (JSON Web Token)

### 开发工具
- **构建工具**: Maven
- **版本控制**: Git
- **容器化**: Docker (可选)

## 快速开始

### 环境要求
- JDK 11+
- Maven 3.6+
- MySQL 8.0
- Redis 6.0+
- Kafka 2.8+

### 本地部署

1. **克隆项目**
   ```bash
   git clone https://github.com/3269909500/lab-data-platform.git
   cd lab-data-platform
   ```

2. **配置数据库**
   ```bash
   # 创建数据库
   mysql -u root -p
   CREATE DATABASE lab_platform;

   # 导入初始化脚本（如有）
   ```

3. **修改配置**
   - 修改各服务 `application.yml` 中的数据库、Redis、Kafka连接信息

4. **启动服务**
   ```bash
   # 启动认证服务
   cd auth-service
   mvn spring-boot:run

   # 启动网关服务
   cd ../gateway-service
   mvn spring-boot:run

   # 启动监控服务
   cd ../monitor-service
   mvn spring-boot:run

   # 启动系统服务
   cd ../system-service
   mvn spring-boot:run
   ```

5. **访问系统**
   - 网关地址: http://localhost:8080
   - API文档: http://localhost:8080/doc.html

